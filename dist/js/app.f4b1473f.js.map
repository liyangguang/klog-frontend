{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/camera.svg","webpack:///./src/components/Landing.vue?f965","webpack:///./src/components/Header.vue?5ccf","webpack:///./src/assets/speech-bubble.svg","webpack:///./src/assets/phone.png","webpack:///./src/App.vue?7b3f","webpack:///./src/components/Header.vue?a367","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?2d70","webpack:///./src/components/Header.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/api.js","webpack:///./src/components/Landing.vue?6948","webpack:///src/components/Landing.vue","webpack:///./src/components/Landing.vue?0d38","webpack:///./src/components/Landing.vue","webpack:///./src/components/Courses.vue?1dce","webpack:///./src/mixins.js","webpack:///src/components/Courses.vue","webpack:///./src/components/Courses.vue?a302","webpack:///./src/components/Courses.vue","webpack:///./src/components/Students.vue?18ef","webpack:///./src/components/UploadImage.vue?ec1e","webpack:///src/components/UploadImage.vue","webpack:///./src/components/UploadImage.vue?f647","webpack:///./src/components/UploadImage.vue","webpack:///src/components/Students.vue","webpack:///./src/components/Students.vue?98d0","webpack:///./src/components/Students.vue","webpack:///./src/components/SignIn.vue?8c25","webpack:///src/components/SignIn.vue","webpack:///./src/components/SignIn.vue?3a37","webpack:///./src/components/SignIn.vue","webpack:///./src/embededViews/UploadDemo.vue?5b51","webpack:///src/embededViews/UploadDemo.vue","webpack:///./src/embededViews/UploadDemo.vue?b4b5","webpack:///./src/embededViews/UploadDemo.vue","webpack:///./src/embededViews/Courses.vue?30e9","webpack:///src/embededViews/Courses.vue","webpack:///./src/embededViews/Courses.vue?68ee","webpack:///./src/embededViews/Courses.vue","webpack:///./src/embededViews/Students.vue?dfe7","webpack:///src/embededViews/Students.vue","webpack:///./src/embededViews/Students.vue?04d7","webpack:///./src/embededViews/Students.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/components/Students.vue?b787","webpack:///./src/components/SignIn.vue?c32c","webpack:///./src/assets/photos/4.jpg","webpack:///./src/embededViews/Students.vue?4cc0","webpack:///./src/embededViews/Courses.vue?78b9","webpack:///./src/assets/photos/1.jpg","webpack:///./src/App.vue?2ea4","webpack:///./src/components/Courses.vue?728a","webpack:///./src/assets/photos/3.jpg","webpack:///./src/assets/photos/2.jpg","webpack:///./src/embededViews/UploadDemo.vue?5de5","webpack:///./src/assets/neural.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","isEmbed","_e","staticRenderFns","class","isScrolled","staticClass","_v","$route","path","isSignedin","on","signout","$event","navigateTo","components","computed","$store","state","currentUser","created","addEventListener","methods","$router","commit","component","_checkEmbed","watch","to","includes","Vue","use","Vuex","COOKIE_KEY_NAME","Store","mutations","setCurrentUser","payload","user","save","Cookies","set","pid","expires","remove","ROOT","ALL_VALUE","callApi","async","method","option","params","teacher_key","sha256","body","JSON","stringify","entries","map","join","fetch","response","json","ok","Error","message","_m","_l","photo","index","style","opacity","photoIndex","photos","setInterval","_s","pageMessage","item","_key","course_name","editButton","slot","getTeacherName","teacher_pid","assistant_pid","course_intro","openStudents","studentCount","addButton","modalContent","isModalVisible","modalOk","span","model","callback","$$v","$set","expression","teacher","teacher_name","modalMessage","NO_USER_PID","teacherMixin","teacherList","_loadTeacherList","filter","fkey","fid","institute_pid","console","error","studentMixin","studentList","_loadAllStudents","student_name","getStudentName","student","getStudent","mixins","courses","_loadCourses","course_targets","course","student_pid","student_image_url","NEW_STUDENT_VALUE","uploadMessage","ref","REQUIRED_FILED_FOR_MULTIPART","FORM_FILED_NAME","file","target","files","isDisabled","submit","$emit","API_PATH","currentCourseStudentRefs","availableStudents","_loadCourse","_loadCourseStudentsRefs","teacher_uid","isRegistering","email","phone_number","institute","institute_name","register","doSaveInCookie","checked","login","instituteList","_loadInstituteList","url","scopedSlots","_u","fn","AntIcon","AntButton","AntForm","AntInput","AntModal","AntSelect","AntList","VueRouter","routeGuard","_from","next","store","split","router","replace","HARD_CODE_TEACHER_UID","routes","Landing","beforeEnter","Signin","Courses","Students","EmbededCourses","EmbededStudents","UploadDemo","redirect","base","process","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.f4b1473f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/camera.ae722111.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&id=21705dec&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&id=21705dec&lang=postcss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=64b9382d&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=64b9382d&lang=postcss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/speech-bubble.187c8efb.svg\";","module.exports = __webpack_public_path__ + \"img/phone.a0ada1a1.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.isEmbed)?_c('my-header'):_vm._e(),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:{'-scrolled': _vm.isScrolled}},[_c('router-link',{staticClass:\"logo\",attrs:{\"to\":\"/\"}},[_vm._v(\"KLog\")]),_c('nav',[(_vm.$route.path !== '/signin')?[(!_vm.isSignedin)?_c('ant-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.navigateTo('signin')}}},[_vm._v(\"登录\")]):_c('ant-button',{on:{\"click\":_vm.signout}},[_vm._v(\"注销\")])]:_vm._e(),(_vm.isSignedin && _vm.$route.path === '/')?_c('ant-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.navigateTo('courses')}}},[_vm._v(\"课程管理入口\")]):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nheader(:class=\"{'-scrolled': isScrolled}\")\n  router-link.logo(to=\"/\") KLog\n  nav\n    template(v-if=\"$route.path !== '/signin'\")\n      ant-button(v-if=\"!isSignedin\", type=\"primary\", @click=\"navigateTo('signin')\") 登录\n      ant-button(v-else, @click=\"signout\") 注销\n    ant-button(v-if=\"isSignedin && $route.path === '/'\", type=\"primary\", @click=\"navigateTo('courses')\") 课程管理入口\n</template>\n\n<script>\nimport {Button as AntButton} from 'ant-design-vue';\n\nconst SCROLL_THRESHOLD = 60;\n\nexport default {\n  components: {AntButton},\n  data(){\n    return {\n      isScrolled: false,\n    };\n  },\n  computed: {\n    isSignedin() {\n      return !!this.$store.state.currentUser;\n    },\n  },\n  created() {\n    window.addEventListener('scroll', () => {\n      this.isScrolled = window.scrollY > SCROLL_THRESHOLD;\n    });\n  },\n  methods: {\n    navigateTo(path) {\n      this.$router.push(path);\n    },\n    signout() {\n      this.$store.commit('signout');\n      this.navigateTo('/');\n    },\n  },\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nheader {\n  position: fixed;\n  top: 0;left: 0;right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: var(--z-header);\n  padding: 1em 2em;\n  transition: all var(--transition-fast);\n\n  &.-scrolled {\n    background: #fff;\n    box-shadow: 0 0 6px rgba(0,0,0,.5);\n  }\n}\n\n.logo {\n  font-size: 1.5em;\n  font-weight: 600;\n}\n\nnav {\n  display: flex;\n  align-items: center;\n}\n\nbutton {\n  margin-left: 1em;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=64b9382d&scoped=true&lang=pug&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=64b9382d&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64b9382d\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n#app\n  my-header(v-if=\"!isEmbed\")\n  router-view\n</template>\n\n<script>\nimport myHeader from './components/Header.vue';\n\nexport default {\n  components: {myHeader},\n  data() {\n    return {\n      isEmbed: this._checkEmbed(this.$route.path),\n    };\n  },\n  watch: {\n    $route(to) {\n      this.isEmbed = this._checkEmbed(to.path);\n    },\n  },\n  methods: {\n    _checkEmbed(path) {\n      return path.includes('_embed');\n    },\n  },\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n@import './variables.css';\n\n#app {\n  background: var(--background-gray);\n  min-height: 100vh;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=36f8e231&scoped=true&lang=pug&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=36f8e231&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36f8e231\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport Cookies from 'js-cookie';\n\nVue.use(Vuex);\n\nexport const COOKIE_KEY_NAME = 'klog-user-pid';\n\nexport default new Vuex.Store({\n  state: {\n    currentUser: null,\n  },\n  mutations: {\n    setCurrentUser(state, payload) {\n      state.currentUser = payload.user;\n      if (payload.save) {\n        Cookies.set(COOKIE_KEY_NAME, payload.user.pid, {expires: 30});\n      } else if (payload.save === false) {  // undefined => pass\n        Cookies.remove(COOKIE_KEY_NAME);\n      }\n    },\n    signout(state) {\n      state.currentUser = null;\n      Cookies.remove(COOKIE_KEY_NAME);\n    },\n  },\n});\n","import {sha256} from 'js-sha256';\n\n// TODO(yangguang): Move it to backend, graphql\n\nconst ROOT = 'https://klogserver.westus2.cloudapp.azure.com/api/0/';\nconst ALL_VALUE = 'all';\n\nexport async function callApi(path, payload = {}, method) {\n  let option = {};\n  let params = '';\n  if (method) {\n    if (payload.teacher_key) {\n      payload.teacher_key = sha256(payload.teacher_key);\n    }\n    option = {method, body: JSON.stringify(payload)};\n  } else {\n    if (!payload.pid) {\n      payload.pid = ALL_VALUE;\n    }\n    params = Object.entries(payload).map(([key, value]) => `${key}=${value}`).join('&');\n    if (params) {\n      params = '?' + params;\n    }\n  }\n\n  const response = await fetch(`${ROOT}${path}${params}`, option);\n  const data = await response.json();\n  if (response.ok) {\n    return data.payload;\n  } else {\n    throw new Error(data.message);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"left\"},[_c('h1',[_vm._v(\"KLog\")]),_c('p',[_vm._v(\"记录学生们上课的精彩瞬间, 自动生成每个学生的精彩片段\")]),_vm._m(0),_c('ant-button',{attrs:{\"ghost\":\"\",\"type\":\"primary\",\"icon\":\"download\",\"size\":\"large\"}},[_vm._v(\"安卓应用市场\")])],1),_c('img',{staticClass:\"right\",attrs:{\"src\":require(\"@/assets/phone.png\"),\"alt\":\"Phone frame\"}})]),_vm._l((_vm.photos),function(photo,index){return _c('div',{staticClass:\"background-photo\",style:({opacity: index === _vm.photoIndex ? 1 : 0, 'background-image': (\"url(\" + photo + \")\")})})})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"features\"},[_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/camera.svg\"),\"alt\":\"camera icon\"}}),_c('p',[_vm._v(\"用手机记录下学生们的上课活动\")])]),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/neural.svg\"),\"alt\":\"neural icon\"}}),_c('p',[_vm._v(\"机器学习识别每个学生, 生成视频\")])]),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/speech-bubble.svg\"),\"alt\":\"speech bubble icon\"}}),_c('p',[_vm._v(\"老师向家长们分享每个孩子的精彩片段\")])])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nmain\n  .content\n    .left\n      h1 KLog\n      p 记录学生们上课的精彩瞬间, 自动生成每个学生的精彩片段\n      ul.features\n        li\n          img(src=\"@/assets/camera.svg\", alt=\"camera icon\")\n          p 用手机记录下学生们的上课活动\n        li\n          img(src=\"@/assets/neural.svg\", alt=\"neural icon\")\n          p 机器学习识别每个学生, 生成视频\n        li\n          img(src=\"@/assets/speech-bubble.svg\", alt=\"speech bubble icon\")\n          p 老师向家长们分享每个孩子的精彩片段\n      ant-button(ghost, type=\"primary\", icon=\"download\", size=\"large\") 安卓应用市场\n    img.right(src=\"@/assets/phone.png\", alt=\"Phone frame\")\n  .background-photo(v-for=\"(photo, index) in photos\", :style=\"{opacity: index === photoIndex ? 1 : 0, 'background-image': `url(${photo})`}\")\n</template>\n\n<script>\nimport {Button as AntButton} from 'ant-design-vue';\n\nconst SLIDE_INTERVAL = 5 * 1000;\n\nexport default {\n  components: {AntButton},\n  data() {\n    return {\n      photoIndex: 0,\n      photos: [require('@/assets/photos/1.jpg'), require('@/assets/photos/2.jpg'), require('@/assets/photos/3.jpg'), require('@/assets/photos/4.jpg')],\n    }\n  },\n  created() {\n    setInterval(() => {\n      this.photoIndex = (this.photoIndex + 1) % this.photos.length;\n    }, SLIDE_INTERVAL);\n  },\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\n:root {\n  --z-content: 1;\n  --z-bg-photos: 0;\n}\n\nmain {\n  position: relative;\n}\n\n.content {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  min-height: 100vh;\n  background: linear-gradient(to right, var(--background-gray) 30%, rgba(255,255,255,.6) 90%);\n  position: relative;\n  z-index: var(--z-content);\n}\n\n.left {\n  padding: 20vh 5em 3em;\n\n  & > h1 {\n    font-size: 3em;\n    font-weight: 600;\n  }\n\n  & > p {\n    font-size: 1.6em;\n  }\n\n  & > button {\n    margin-top: 2em;\n  }\n}\n\n.features {\n  display: flex;\n  list-style: none;\n  font-size: 1rem;\n  padding: 0;\n\n  & > li {\n    flex: 1;\n    text-align: center;\n    margin: 1em;\n  }\n\n  & img {\n    height: 3em;\n    margin-bottom: 0.5em;\n  }\n}\n\n.right {\n  width: 25vw;\n  margin: auto;\n}\n\n.background-photo {\n  position: absolute;\n  top: 0;left: 0;right: 0;bottom: 0;\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: right center;\n  transition: opacity var(--transition-slow);\n  z-index: var(--z-bg-photos);\n}\n\n@media screen and (max-width: 800px) {\n  .content {\n    display: block;\n    font-size: 0.8em;\n  }\n\n  .left {\n    padding: 6em 2em 2em;\n    text-align: center;\n  }\n\n  .features {\n    display: block;\n\n    & > li {\n      margin-bottom: 2em;\n    }\n  }\n\n  .right {\n    display: none;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Landing.vue?vue&type=template&id=21705dec&scoped=true&lang=pug&\"\nimport script from \"./Landing.vue?vue&type=script&lang=js&\"\nexport * from \"./Landing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Landing.vue?vue&type=style&index=0&id=21705dec&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21705dec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('h1',[_vm._v(\"课程管理\")]),_c('p',[_vm._v(_vm._s(_vm.pageMessage))]),_c('div',{staticClass:\"grid\"},[_vm._l((_vm.courses),function(item,_key){return _c('ant-card',{key:_key,attrs:{\"title\":item.course_name}},[_c('ant-button',{attrs:{\"slot\":\"extra\",\"shape\":\"circle\",\"icon\":\"edit\",\"aria-label\":\"编辑课程\"},on:{\"click\":function($event){return _vm.editButton(item)}},slot:\"extra\"}),_c('p',{staticClass:\"teacher\"},[_vm._v(\"老师: \"+_vm._s(_vm.getTeacherName(item.teacher_pid)))]),_c('p',{staticClass:\"teacher\"},[_vm._v(\"助教: \"+_vm._s(_vm.getTeacherName(item.assistant_pid)))]),_c('p',{staticClass:\"more\"},[_vm._v(\"课程信息: \"+_vm._s(item.course_intro))]),_c('ant-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.openStudents(item.pid)}}},[_vm._v(\"管理学生\"),(item.studentCount)?_c('span',[_vm._v(\"(\"+_vm._s(item.studentCount)+\")\")]):_vm._e()])],1)}),_c('ant-card',{attrs:{\"title\":\"添加新课程\",\"bodyStyle\":{'min-height': '10em', 'text-align': 'center'}}},[_c('ant-button',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"plus\",\"size\":\"large\",\"aria-label\":\"添加\"},on:{\"click\":_vm.addButton}})],1)],2),_c('ant-modal',{attrs:{\"title\":_vm.modalContent.pid ? '编辑课程' : '添加新课程',\"visible\":_vm.isModalVisible,\"okText\":\"确认\",\"cancelText\":\"取消\"},on:{\"ok\":_vm.modalOk,\"cancel\":function($event){_vm.isModalVisible = false}}},[_c('ant-form',{attrs:{\"formLayout\":\"horizontal\"}},[_c('ant-form-item',{attrs:{\"label\":\"名称\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.modalContent.course_name),callback:function ($$v) {_vm.$set(_vm.modalContent, \"course_name\", $$v)},expression:\"modalContent.course_name\"}})],1),_c('ant-form-item',{attrs:{\"label\":\"老师\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.modalContent.teacher_pid),callback:function ($$v) {_vm.$set(_vm.modalContent, \"teacher_pid\", $$v)},expression:\"modalContent.teacher_pid\"}},_vm._l((_vm.teacherList),function(teacher,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":teacher.pid}},[_vm._v(_vm._s(teacher.teacher_name))])}),1)],1),_c('ant-form-item',{attrs:{\"label\":\"助教\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.modalContent.assistant_pid),callback:function ($$v) {_vm.$set(_vm.modalContent, \"assistant_pid\", $$v)},expression:\"modalContent.assistant_pid\"}},_vm._l((_vm.teacherList),function(teacher,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":teacher.pid}},[_vm._v(_vm._s(teacher.teacher_name))])}),1)],1),_c('ant-form-item',{attrs:{\"label\":\"介绍\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.modalContent.course_intro),callback:function ($$v) {_vm.$set(_vm.modalContent, \"course_intro\", $$v)},expression:\"modalContent.course_intro\"}})],1),_c('p',[_vm._v(_vm._s(_vm.modalMessage))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {callApi} from './api.js';\n\nconst NO_USER_PID = '000000000000000000000000';\n\nexport const teacherMixin = {\n  data() {\n    return {\n      teacherList: [],\n    };\n  },\n  created() {\n    this._loadTeacherList();\n  },\n  methods: {\n    async _loadTeacherList() {\n      const filter = {fkey: 'institute_pid', fid: this.$store.state.currentUser.institute_pid};\n      try {\n        this.teacherList = await callApi('config/teacher', filter);\n      } catch(error) {\n        console.error(error);\n        this.teacherList = [{pid: null, teacher_name: '获取教师列表失败'}];\n      };\n    },\n    getTeacherName(pid) {\n      if (!pid || pid === NO_USER_PID) return '(无)';\n      if (!this.teacherList.length) return '(载入中)';\n      const teacher = this.teacherList.filter((teacher) => teacher.pid === pid)[0];\n      if (!teacher) return '(未找到)';\n      return teacher.teacher_name;\n    },\n  },\n};\n\nexport const studentMixin = {\n  data() {\n    return {\n      studentList: [],\n    };\n  },\n  created() {\n    this._loadAllStudents();\n  },\n  methods: {\n    async _loadAllStudents() {\n      try {\n        this.studentList = await callApi('config/student');\n      } catch(error) {\n        console.error(error);\n        this.studentList = [{student_name: '获取学生列表失败'}];\n      };\n    },\n    getStudentName(pid) {\n      if (!pid || pid === NO_USER_PID) return '(无)';\n      if (!this.studentList || !this.studentList.length) return '(载入中)';\n\n      const student = this.studentList.filter((student) => student.pid === pid)[0];\n      if (!student) return '(未找到)';\n      return student.student_name;\n    },\n    getStudent(pid) {\n      if (!pid || pid === NO_USER_PID) return {};\n      if (!this.studentList || !this.studentList.length) return {};\n\n      const student = this.studentList.filter((student) => student.pid === pid)[0];\n      return student || {};\n    },\n  },\n}","<template lang=\"pug\">\nmain\n  h1 课程管理\n  p {{pageMessage}}\n  .grid\n    ant-card(v-for=\"(item, _key) in courses\", :key=\"_key\", :title=\"item.course_name\")\n      ant-button(slot=\"extra\", shape=\"circle\", icon=\"edit\", @click=\"editButton(item)\", aria-label=\"编辑课程\")\n      p.teacher 老师: {{getTeacherName(item.teacher_pid)}}\n      p.teacher 助教: {{getTeacherName(item.assistant_pid)}}\n      p.more 课程信息: {{item.course_intro}}\n      ant-button(@click=\"openStudents(item.pid)\", size=\"small\") 管理学生\n        span(v-if=\"item.studentCount\") ({{item.studentCount}})\n    ant-card(title=\"添加新课程\", :bodyStyle=\"{'min-height': '10em', 'text-align': 'center'}\")\n      ant-button.add-button(type=\"primary\", shape=\"circle\", icon=\"plus\", size=\"large\", @click=\"addButton\", aria-label=\"添加\")\n  ant-modal(:title=\"modalContent.pid ? '编辑课程' : '添加新课程'\", :visible=\"isModalVisible\", @ok=\"modalOk\", @cancel=\"isModalVisible = false\", okText=\"确认\", cancelText=\"取消\")\n    ant-form(formLayout=\"horizontal\")\n      ant-form-item(label=\"名称\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"modalContent.course_name\")\n      ant-form-item(label=\"老师\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"modalContent.teacher_pid\")\n          ant-select-option(v-for=\"(teacher, _key) in teacherList\", :key=\"_key\", :value=\"teacher.pid\") {{teacher.teacher_name}}\n      ant-form-item(label=\"助教\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"modalContent.assistant_pid\")\n          ant-select-option(v-for=\"(teacher, _key) in teacherList\", :key=\"_key\", :value=\"teacher.pid\") {{teacher.teacher_name}}\n      ant-form-item(label=\"介绍\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"modalContent.course_intro\")\n      p {{modalMessage}}\n</template>\n\n<script>\nimport {\n  Button as AntButton,\n  Card as AntCard,\n  Modal as AntModal,\n  Form as AntForm,\n  Input as AntInput,\n  Select as AntSelect,\n} from 'ant-design-vue';\nimport {callApi} from '../api.js';\nimport {teacherMixin} from '../mixins.js';\n\nexport default {\n  mixins: [teacherMixin],\n  components: {AntButton, AntCard, AntModal, AntForm, AntFormItem: AntForm.Item, AntInput, AntSelect, AntSelectOption: AntSelect.Option},\n  data() {\n    return {\n      courses: [],\n      isModalVisible: false,\n      modalContent: {},\n      modalMessage: '',\n      pageMessage: '',\n    };\n  },\n  created() {\n    this._loadCourses();\n  },\n  methods: {\n    async _loadCourses() {\n      try {\n        // TODO(yangguang): remove the .filter() once the backend filter works\n        // const filter = {fkey: 'teacher_pid', fid: this.$store.state.currentUser.pid};\n        this.courses = (await callApi('config/course')).filter((course) => [course.teacher_pid, course.assistant_pid].includes(this.$store.state.currentUser.pid));\n        this.courses.forEach((course) => {\n          this._loadCourseStudentsRefs(course);\n        });\n      } catch(error) {\n        console.error(error);\n        this.pageMessage = '获取课程列表失败. ' + error.message;\n      };\n    },\n    async _loadCourseStudentsRefs(course) {\n      try {\n        this.$set(course, 'studentCount', (await callApi('config/reference/student_course', {student_pid: 'all', course_pid: course.pid})).length);\n      } catch(error) {\n        console.error(error);\n        this.$set(course, 'studentCount', '(获取学生人数失败)');\n      };\n    },\n    addButton() {\n      this.modalContent = {\n        teacher_pid: this.$store.state.currentUser.pid,\n        institute_pid: this.$store.state.currentUser.institute_pid,\n        course_targets: [],  // TODO: add this in the UI\n      };\n      this.isModalVisible = true;\n    },\n    editButton(item) {\n      this.modalContent = item;\n      this.isModalVisible = true;\n    },\n    async modalOk() {\n      const isNew = !this.modalContent.pid;\n      // TODO: If we can do it in the backend, remove this.\n      if (isNew) {\n        this.modalContent.course_uid = 'uid-' + (new Date()).getTime();\n      }\n      try {\n        const newPid = await callApi('config/course', this.modalContent, isNew ? 'POST' : 'PUT');\n        if (isNew) {\n          this.modalContent.pid = newPid;\n          this.courses.push(this.modalContent);\n        }\n        this.isModalVisible = false;\n      } catch(error) {\n        console.error(error);\n        this.modalMessage = error.message;\n      };\n    },\n    openStudents(courseId) {\n      this.$router.push(`/students/${courseId}`);\n    },\n  },\n}\n\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nmain {\n  padding: 6em 2em 1em;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-gap: 2em;\n}\n\np {\n  margin: .5em 0;\n}\n\n.student-button {\n  margin-left: 1em;\n}\n\n.add-button {\n  transform: scale(1.5) translateY(40%);\n}\n\n@media screen and (max-width: 1000px) {\n  .grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n@media screen and (max-width: 800px) {\n  .grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media screen and (max-width: 600px) {\n  .grid {\n    grid-template-columns: repeat(1, 1fr);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Courses.vue?vue&type=template&id=b08d9672&scoped=true&lang=pug&\"\nimport script from \"./Courses.vue?vue&type=script&lang=js&\"\nexport * from \"./Courses.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Courses.vue?vue&type=style&index=0&id=b08d9672&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b08d9672\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('router-link',{attrs:{\"to\":\"/courses\"}},[_vm._v(\"返回课程列表\")]),_c('h1',[_vm._v(\"学生管理\")]),_c('p',[_vm._v(_vm._s(_vm.pageMessage))]),_c('p',[_vm._v(_vm._s(_vm.course.course_name))]),_c('p',{staticClass:\"teacher\"},[_vm._v(\"老师: \"+_vm._s(_vm.getTeacherName(_vm.course.teacher_pid)))]),_c('p',{staticClass:\"teacher\"},[_vm._v(\"助教: \"+_vm._s(_vm.getTeacherName(_vm.course.assistant_pid)))]),_c('div',{staticClass:\"grid\"},[_vm._l((_vm.currentCourseStudentRefs),function(item,_key){return _c('ant-card',{key:_key},[_c('p',[_vm._v(_vm._s(_vm.getStudentName(item.student_pid)))]),_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.getStudent(item.student_pid).student_image_url}})])}),_c('ant-card',{attrs:{\"bodyStyle\":{'min-height': '10em', 'text-align': 'center'}}},[_c('ant-button',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"plus\",\"size\":\"large\",\"aria-label\":\"添加\"},on:{\"click\":_vm.addButton}})],1)],2),_c('ant-modal',{attrs:{\"title\":\"添加学生\",\"visible\":_vm.isModalVisible,\"okText\":\"确认\",\"cancelText\":\"取消\"},on:{\"ok\":_vm.modalOk,\"cancel\":function($event){_vm.isModalVisible = false}}},[_c('ant-form',{attrs:{\"formLayout\":\"horizontal\"}},[_c('ant-form-item',{attrs:{\"label\":\"学生列表\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.modalContent.student_pid),callback:function ($$v) {_vm.$set(_vm.modalContent, \"student_pid\", $$v)},expression:\"modalContent.student_pid\"}},[_vm._l((_vm.availableStudents),function(student,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":student.pid}},[_vm._v(_vm._s(student.student_name))])}),_c('ant-select-option',{attrs:{\"value\":_vm.NEW_STUDENT_VALUE}},[_vm._v(\"[注册新学生]\")])],2)],1),(_vm.modalContent.student_pid === _vm.NEW_STUDENT_VALUE)?[_c('ant-form-item',{attrs:{\"label\":\"姓名\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.modalContent.student_name),callback:function ($$v) {_vm.$set(_vm.modalContent, \"student_name\", $$v)},expression:\"modalContent.student_name\"}})],1),_c('img',{staticClass:\"image-preview\",attrs:{\"src\":_vm.modalContent.student_image_url}}),_c('upload-image',{on:{\"message\":function($event){_vm.uploadMessage = $event},\"url\":function($event){_vm.modalContent.student_image_url = $event}}}),_c('p',[_vm._v(_vm._s(_vm.uploadMessage))])]:_vm._e(),_c('p',[_vm._v(_vm._s(_vm.modalMessage))])],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{ref:\"formEl\",attrs:{\"enctype\":_vm.REQUIRED_FILED_FOR_MULTIPART}},[_c('input',{attrs:{\"type\":\"file\",\"name\":_vm.FORM_FILED_NAME},on:{\"change\":function($event){_vm.file = $event.target.files[0]}}}),_c('ant-button',{attrs:{\"disabled\":!_vm.file || _vm.isDisabled},on:{\"click\":_vm.submit}},[_vm._v(\"上传\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nform(:enctype=\"REQUIRED_FILED_FOR_MULTIPART\", ref=\"formEl\")\n  input(type='file', :name=\"FORM_FILED_NAME\", @change=\"file = $event.target.files[0]\")\n  ant-button(@click=\"submit\", :disabled=\"!file || isDisabled\") 上传\n</template>\n\n<script>\nimport {Button as AntButton} from 'ant-design-vue';\n\n// These fields is required in the backend.\nconst API_PATH = '/_api/upload';\nconst REQUIRED_FILED_FOR_MULTIPART = 'multipart/form-data';\nconst FORM_FILED_NAME = 'image';\n\nexport default {\n  components: {AntButton},\n  data(){\n    return {\n      file: null,\n      isDisabled: false,\n      REQUIRED_FILED_FOR_MULTIPART,\n      FORM_FILED_NAME,\n    };\n  },\n  methods: {\n    submit() {\n      this.isDisabled = true;\n      this.$emit('message', '上传中...');\n\n      const formData = new FormData(this.$refs.formEl);\n      fetch(API_PATH, {method: 'POST', body: formData}).then((response) => {\n        if (!response.ok) throw new Error(`${response.status} ${response.statusText}`);\n        return response.json();\n      }).then((data) => {\n        this.$emit('message', '');\n        this.$emit('url', data.path);\n        this.isDisabled = false;\n      }).catch((error) => {\n        this.$emit('message', '上传失败!');\n        this.isDisabled = false;\n      });\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadImage.vue?vue&type=template&id=bd345500&lang=pug&\"\nimport script from \"./UploadImage.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadImage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\nmain\n  router-link(to=\"/courses\") 返回课程列表\n  h1 学生管理\n  p {{pageMessage}}\n  p {{course.course_name}}\n  p.teacher 老师: {{getTeacherName(course.teacher_pid)}}\n  p.teacher 助教: {{getTeacherName(course.assistant_pid)}}\n  .grid\n    ant-card(v-for=\"(item, _key) in currentCourseStudentRefs\", :key=\"_key\")\n      p {{getStudentName(item.student_pid)}}\n      img.avatar(:src=\"getStudent(item.student_pid).student_image_url\")\n    ant-card(:bodyStyle=\"{'min-height': '10em', 'text-align': 'center'}\")\n      ant-button.add-button(type=\"primary\", shape=\"circle\", icon=\"plus\", size=\"large\", @click=\"addButton\", aria-label=\"添加\")\n  ant-modal(title=\"添加学生\", :visible=\"isModalVisible\", @ok=\"modalOk\", @cancel=\"isModalVisible = false\", okText=\"确认\", cancelText=\"取消\")\n    ant-form(formLayout=\"horizontal\")\n      ant-form-item(label=\"学生列表\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"modalContent.student_pid\")\n          ant-select-option(v-for=\"(student, _key) in availableStudents\", :key=\"_key\", :value=\"student.pid\") {{student.student_name}}\n          ant-select-option(:value=\"NEW_STUDENT_VALUE\") [注册新学生]\n      template(v-if=\"modalContent.student_pid === NEW_STUDENT_VALUE\")\n        ant-form-item(label=\"姓名\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"modalContent.student_name\")\n        img.image-preview(:src=\"modalContent.student_image_url\")\n        upload-image(@message=\"uploadMessage = $event\", @url=\"modalContent.student_image_url = $event\")\n        p {{uploadMessage}}\n      p {{modalMessage}}\n</template>\n\n<script>\nimport {\n  Button as AntButton,\n  Card as AntCard,\n  Modal as AntModal,\n  Form as AntForm,\n  Input as AntInput,\n  Select as AntSelect,\n} from 'ant-design-vue';\nimport {sha256} from 'js-sha256';\nimport {callApi} from '../api.js';\nimport {teacherMixin, studentMixin} from '../mixins.js';\n\nimport UploadImage from './UploadImage.vue';\n\nconst NEW_STUDENT_VALUE = 'CREATE_NEW';\n\nexport default {\n  mixins: [teacherMixin, studentMixin],\n  components: {UploadImage, AntButton, AntCard, AntModal, AntForm, AntFormItem: AntForm.Item, AntInput, AntSelect, AntSelectOption: AntSelect.Option},\n  data() {\n    return {\n      course: {},\n      isModalVisible: false,\n      modalContent: {},\n      modalMessage: '',\n      pageMessage: '',\n      uploadMessage: '',\n      currentCourseStudentRefs: [],\n      NEW_STUDENT_VALUE: NEW_STUDENT_VALUE,\n    };\n  },\n  computed: {\n    availableStudents() {\n      if (!this.studentList) return [];\n      return this.studentList.filter((student) => !this.currentCourseStudentRefs.find((ref) => ref.student_pid === student.pid));\n    },\n  },\n  created() {\n    this._loadCourse();  // For course info\n    this._loadCourseStudentsRefs();  // For student list\n  },\n  methods: {\n    async _loadCourse() {\n      try {\n        this.course = (await callApi('config/course', {pid: this.$route.params.coursePid}))[0];\n      } catch(error) {\n        console.error(error);\n        this.pageMessage = '获取课程信息失败. ' + error.message;\n      };\n    },\n    async _loadCourseStudentsRefs() {\n      try {\n        this.currentCourseStudentRefs = await callApi('config/reference/student_course', {student_pid: 'all', course_pid: this.$route.params.coursePid});\n      } catch(error) {\n        console.error(error);\n        this.pageMessage = '获取学生列表失败. ' + error.message;\n      };\n    },\n    addButton() {\n      this.modalContent = {};\n      this.isModalVisible = true;\n    },\n    async modalOk() {\n      try {\n        if (this.modalContent.student_pid === NEW_STUDENT_VALUE) {\n          const newPid = await callApi('config/student', this.modalContent, 'POST');\n          this.studentList.push((await callApi('config/student', {pid: newPid}))[0]);\n          await this._addStudentCourseRelationship(newPid);\n        } else {\n          await this._addStudentCourseRelationship(this.modalContent.student_pid);\n        }\n      } catch (error) {\n        console.error(error);\n        this.modalMessage = error.message;\n      }\n    },\n    async _addStudentCourseRelationship(studentPid) {\n      try {\n        const payload = {course_pid: this.$route.params.coursePid, student_pid: studentPid};\n        await callApi('config/reference/student_course', payload, 'POST');\n        this.currentCourseStudentRefs.push(payload);\n        this.isModalVisible = false;\n      } catch(error) {\n        console.error(error);\n        this.modalMessage = '添加学生失败. ' + error.message;\n      };\n    },\n  },\n}\n\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nmain {\n  padding: 6em 2em 1em;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-gap: 2em;\n}\n\np {\n  margin: .5em 0;\n}\n\n.avatar {\n  width: 5em;\n  height: 5em;\n  object-fit: cover;\n  border-radius: 50%;\n}\n\n.image-preview {\n  width: 100%;\n}\n\n.add-button {\n  transform: scale(1.5) translateY(40%);\n}\n\n@media screen and (max-width: 1000px) {\n  .grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n@media screen and (max-width: 800px) {\n  .grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media screen and (max-width: 600px) {\n  .grid {\n    grid-template-columns: repeat(1, 1fr);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Students.vue?vue&type=template&id=71aa7d72&scoped=true&lang=pug&\"\nimport script from \"./Students.vue?vue&type=script&lang=js&\"\nexport * from \"./Students.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Students.vue?vue&type=style&index=0&id=71aa7d72&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71aa7d72\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('ant-form',{attrs:{\"formLayout\":\"horizontal\"}},[_c('ant-form-item',{attrs:{\"label\":\"账号\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.teacher_uid),callback:function ($$v) {_vm.teacher_uid=$$v},expression:\"teacher_uid\"}})],1),_c('ant-form-item',{attrs:{\"label\":\"密码\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input-password',{model:{value:(_vm.teacher_key),callback:function ($$v) {_vm.teacher_key=$$v},expression:\"teacher_key\"}})],1),(!_vm.isRegistering)?[_c('p',[_c('ant-checkbox',{attrs:{\"checked\":_vm.doSaveInCookie},on:{\"change\":function($event){_vm.doSaveInCookie = $event.target.checked}}},[_vm._v(\"下次自动登录\")])],1),_c('p',[_c('ant-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1),_c('p',[_c('ant-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){_vm.isRegistering = true}}},[_vm._v(\"注册教师账号\")])],1)]:[_c('ant-form-item',{attrs:{\"label\":\"姓名\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.teacher_name),callback:function ($$v) {_vm.teacher_name=$$v},expression:\"teacher_name\"}})],1),_c('ant-form-item',{attrs:{\"label\":\"邮箱\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{attrs:{\"type\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('ant-form-item',{attrs:{\"label\":\"电话\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{attrs:{\"type\":\"tel\"},model:{value:(_vm.phone_number),callback:function ($$v) {_vm.phone_number=$$v},expression:\"phone_number\"}})],1),_c('ant-form-item',{attrs:{\"label\":\"学校\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.institute_pid),callback:function ($$v) {_vm.institute_pid=$$v},expression:\"institute_pid\"}},_vm._l((_vm.instituteList),function(institute,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":institute.pid}},[_vm._v(_vm._s(institute.institute_name))])}),1)],1),_c('p',[_c('ant-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])],1),_c('p',[_c('ant-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){_vm.isRegistering = false}}},[_vm._v(\"已有账号? 登录\")])],1)],_c('p',[_vm._v(_vm._s(_vm.message))])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nmain\n  ant-form(formLayout=\"horizontal\")\n    ant-form-item(label=\"账号\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"teacher_uid\")\n    ant-form-item(label=\"密码\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input-password(v-model=\"teacher_key\")\n    template(v-if=\"!isRegistering\")\n      p: ant-checkbox(:checked=\"doSaveInCookie\", @change=\"doSaveInCookie = $event.target.checked\") 下次自动登录\n      p: ant-button(type=\"primary\", size=\"large\", @click=\"login\") 登录\n      p: ant-button(type=\"link\", @click=\"isRegistering = true\") 注册教师账号\n    template(v-else)\n      ant-form-item(label=\"姓名\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"teacher_name\")\n      ant-form-item(label=\"邮箱\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"email\", type=\"email\")\n      ant-form-item(label=\"电话\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"phone_number\", type=\"tel\")\n      ant-form-item(label=\"学校\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"institute_pid\")\n          ant-select-option(v-for=\"(institute, _key) in instituteList\", :key=\"_key\", :value=\"institute.pid\") {{institute.institute_name}}\n      p: ant-button(type=\"primary\", size=\"large\", @click=\"register\") 注册\n      p: ant-button(type=\"link\", @click=\"isRegistering = false\") 已有账号? 登录\n    p {{message}}\n</template>\n\n<script>\nimport {\n  Button as AntButton,\n  Form as AntForm,\n  Input as AntInput,\n  Checkbox as AntCheckbox,\n  Select as AntSelect,\n} from 'ant-design-vue';\nimport {callApi} from '../api.js';\n\nexport default {\n  components: {AntButton, AntForm, AntFormItem: AntForm.Item, AntInput, AntInputPassword: AntInput.Password, AntCheckbox, AntSelect, AntSelectOption: AntSelect.Option},\n  data() {\n    return {\n      isRegistering: false,\n      doSaveInCookie: false,\n      message: '',\n      teacher_uid: '',\n      teacher_key: '',\n      teacher_name: '',\n      phone_number: '',\n      email: '',\n      institute_pid: '',\n      instituteList: [],\n    };\n  },\n  created() {\n    this._loadInstituteList();\n  },\n  methods: {\n    async _loadInstituteList() {\n      try {\n        this.instituteList = await callApi('config/institute');\n      } catch(error) {\n        this.instituteList = [{institute_name: '获取学校列表失败'}];\n      };\n    },\n    async login() {\n      const payload = {\n        teacher_uid: this.teacher_uid,\n        teacher_key: this.teacher_key,\n      };\n      try {\n        this.$store.commit('setCurrentUser', {user: await callApi('workflow/teacher/login', payload, 'POST'), save: this.doSaveInCookie});\n        this.$router.push('/courses');\n      } catch(error) {\n        this.message = error.message;\n      };\n    },\n    async register() {\n      if (!this.isRegistering) {\n        this.isRegistering = true;\n        return;\n      }\n      const payload = {\n        teacher_uid: this.teacher_uid,\n        teacher_key: this.teacher_key,\n        teacher_name: this.teacher_name,\n        phone_number: this.phone_number,\n        email: this.email,\n        institute_pid: this.institute_pid,\n      };\n      try {\n        await callApi('config/teacher', payload, 'POST')\n        this.$router.go();\n      } catch(error) {\n        this.message = error.message;\n      };\n    }\n  },\n}\n\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nmain {\n  padding: 9em 2em 1em;\n  max-width: 500px;\n  margin: 0 auto;\n  text-align: center;\n}\n\nbutton {\n  margin: 0 1em;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=2ad571b4&scoped=true&lang=pug&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignIn.vue?vue&type=style&index=0&id=2ad571b4&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ad571b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{ref:\"formEl\",attrs:{\"enctype\":_vm.REQUIRED_FILED_FOR_MULTIPART}},[_c('p',[_vm._v(\"This is a page to test the upload feature, not a real page in the app.\")]),_c('p',[_vm._v(_vm._s(_vm.message))]),_c('input',{attrs:{\"type\":\"file\",\"name\":_vm.FORM_FILED_NAME},on:{\"change\":function($event){_vm.file = $event.target.files[0]}}}),_c('ant-button',{attrs:{\"disabled\":!_vm.file || _vm.isDisabled},on:{\"click\":_vm.submit}},[_vm._v(\"Upload Image\")]),(_vm.url)?_c('img',{attrs:{\"src\":_vm.url}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nform(:enctype=\"REQUIRED_FILED_FOR_MULTIPART\", ref=\"formEl\")\n  p This is a page to test the upload feature, not a real page in the app.\n  p {{message}}\n  input(type='file', :name=\"FORM_FILED_NAME\", @change=\"file = $event.target.files[0]\")\n  ant-button(@click=\"submit\", :disabled=\"!file || isDisabled\") Upload Image\n  img(v-if=\"url\", :src=\"url\")\n</template>\n\n<script>\nimport {Button as AntButton} from 'ant-design-vue';\n\n// These fields is required in the backend.\nconst API_PATH = '/_api/upload';\nconst REQUIRED_FILED_FOR_MULTIPART = 'multipart/form-data';\nconst FORM_FILED_NAME = 'image';\n\nexport default {\n  components: {AntButton},\n  data(){\n    return {\n      file: null,\n      message: 'Select an image to upload',\n      url: '',\n      isDisabled: false,\n      REQUIRED_FILED_FOR_MULTIPART,\n      FORM_FILED_NAME,\n    };\n  },\n  methods: {\n    submit() {\n      this.isDisabled = true;\n      this.message = 'Uploading...';\n\n      const formData = new FormData(this.$refs.formEl);\n      fetch(API_PATH, {method: 'POST', body: formData}).then((response) => {\n        if (!response.ok) throw new Error(`${response.status} ${response.statusText}`);\n        return response.json();\n      }).then((data) => {\n        this.message = 'Uploaded successfully';\n        this.url = data.path;\n        this.isDisabled = false;\n      }).catch((error) => {\n        this.message = 'Failed to upload. ' + error.message;\n        this.isDisabled = false;\n      });\n    },\n  },\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nimg {\n  height: 5em;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadDemo.vue?vue&type=template&id=a5f4b786&scoped=true&lang=pug&\"\nimport script from \"./UploadDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadDemo.vue?vue&type=style&index=0&id=a5f4b786&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5f4b786\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[(_vm.pageMessage)?_c('p',[_vm._v(_vm._s(_vm.pageMessage))]):_vm._e(),_c('ant-list',{staticClass:\"list\",attrs:{\"dataSource\":_vm.courses},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item, index){return _c('ant-list-item',{},[_c('ant-list-item-meta',{attrs:{\"title\":item.course_name}},[_c('div',{attrs:{\"slot\":\"description\"},slot:\"description\"},[_c('span',{staticClass:\"teacher\"},[_vm._v(\"老师: \"+_vm._s(_vm.getTeacherName(item.teacher_pid))+\", \")]),_c('span',{staticClass:\"teacher\"},[_vm._v(\"助教: \"+_vm._s(_vm.getTeacherName(item.assistant_pid))+\", \")]),_c('span',{staticClass:\"more\"},[_vm._v(\"课程信息: \"+_vm._s(item.course_intro))])])]),_c('ant-button',{attrs:{\"slot\":\"actions\",\"shape\":\"circle\",\"icon\":\"edit\",\"aria-label\":\"编辑课程\"},on:{\"click\":function($event){return _vm.editButton(item)}},slot:\"actions\"}),_c('ant-button',{attrs:{\"slot\":\"actions\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openStudents(item.pid)}},slot:\"actions\"},[_vm._v(\"管理学生\"),(item.studentCount)?_c('span',[_vm._v(\"(\"+_vm._s(item.studentCount)+\")\")]):_vm._e()])],1)}}])}),_c('ant-button',{staticClass:\"add-button\",attrs:{\"slot\":\"actions\",\"icon\":\"plus\",\"size\":\"large\"},on:{\"click\":_vm.addButton},slot:\"actions\"},[_vm._v(\"添加新课程\")]),_c('ant-modal',{attrs:{\"title\":_vm.modalContent.pid ? '编辑课程' : '添加新课程',\"visible\":_vm.isModalVisible,\"okText\":\"确认\",\"cancelText\":\"取消\"},on:{\"ok\":_vm.modalOk,\"cancel\":function($event){_vm.isModalVisible = false}}},[_c('ant-form',{attrs:{\"formLayout\":\"horizontal\"}},[_c('ant-form-item',{attrs:{\"label\":\"名称\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.modalContent.course_name),callback:function ($$v) {_vm.$set(_vm.modalContent, \"course_name\", $$v)},expression:\"modalContent.course_name\"}})],1),_c('ant-form-item',{attrs:{\"label\":\"老师\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.modalContent.teacher_pid),callback:function ($$v) {_vm.$set(_vm.modalContent, \"teacher_pid\", $$v)},expression:\"modalContent.teacher_pid\"}},_vm._l((_vm.teacherList),function(teacher,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":teacher.pid}},[_vm._v(_vm._s(teacher.teacher_name))])}),1)],1),_c('ant-form-item',{attrs:{\"label\":\"助教\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.modalContent.assistant_pid),callback:function ($$v) {_vm.$set(_vm.modalContent, \"assistant_pid\", $$v)},expression:\"modalContent.assistant_pid\"}},_vm._l((_vm.teacherList),function(teacher,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":teacher.pid}},[_vm._v(_vm._s(teacher.teacher_name))])}),1)],1),_c('ant-form-item',{attrs:{\"label\":\"介绍\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.modalContent.course_intro),callback:function ($$v) {_vm.$set(_vm.modalContent, \"course_intro\", $$v)},expression:\"modalContent.course_intro\"}})],1),_c('p',[_vm._v(_vm._s(_vm.modalMessage))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nmain\n  p(v-if=\"pageMessage\") {{pageMessage}}\n  ant-list.list(:dataSource=\"courses\")\n    ant-list-item(slot=\"renderItem\", slot-scope=\"item, index\")\n      ant-list-item-meta(:title=\"item.course_name\")\n        div(slot=\"description\")\n          span.teacher 老师: {{getTeacherName(item.teacher_pid)}}, \n          span.teacher 助教: {{getTeacherName(item.assistant_pid)}}, \n          span.more 课程信息: {{item.course_intro}}\n      ant-button(slot=\"actions\", shape=\"circle\", icon=\"edit\", @click=\"editButton(item)\", aria-label=\"编辑课程\")\n      ant-button(slot=\"actions\", @click=\"openStudents(item.pid)\", size=\"small\") 管理学生\n        span(v-if=\"item.studentCount\") ({{item.studentCount}})\n  ant-button.add-button(slot=\"actions\", icon=\"plus\", size=\"large\", @click=\"addButton\") 添加新课程\n  ant-modal(:title=\"modalContent.pid ? '编辑课程' : '添加新课程'\", :visible=\"isModalVisible\", @ok=\"modalOk\", @cancel=\"isModalVisible = false\", okText=\"确认\", cancelText=\"取消\")\n    ant-form(formLayout=\"horizontal\")\n      ant-form-item(label=\"名称\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"modalContent.course_name\")\n      ant-form-item(label=\"老师\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"modalContent.teacher_pid\")\n          ant-select-option(v-for=\"(teacher, _key) in teacherList\", :key=\"_key\", :value=\"teacher.pid\") {{teacher.teacher_name}}\n      ant-form-item(label=\"助教\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"modalContent.assistant_pid\")\n          ant-select-option(v-for=\"(teacher, _key) in teacherList\", :key=\"_key\", :value=\"teacher.pid\") {{teacher.teacher_name}}\n      ant-form-item(label=\"介绍\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"modalContent.course_intro\")\n      p {{modalMessage}}\n</template>\n\n<script>\nimport {\n  Icon as AntIcon,\n  List as AntList,\n  Button as AntButton,\n  Modal as AntModal,\n  Form as AntForm,\n  Input as AntInput,\n  Select as AntSelect,\n} from 'ant-design-vue';\nimport {callApi} from '../api.js';\nimport {teacherMixin} from '../mixins.js';\n\nexport default {\n  mixins: [teacherMixin],\n  components: {\n    AntIcon,\n    AntButton,\n    AntForm, AntFormItem: AntForm.Item,\n    AntInput,\n    AntModal,\n    AntSelect, AntSelectOption: AntSelect.Option,\n    AntList, AntListItem: AntList.Item, AntListItemMeta: AntList.Item.Meta,\n  },\n  data() {\n    return {\n      courses: [],\n      isModalVisible: false,\n      modalContent: {},\n      modalMessage: '',\n      pageMessage: '',\n    };\n  },\n  created() {\n    this._loadCourses();\n  },\n  methods: {\n    async _loadCourses() {\n      try {\n        // TODO(yangguang): remove the .filter() once the backend filter works\n        // const filter = {fkey: 'teacher_pid', fid: this.$store.state.currentUser.pid};\n        this.courses = (await callApi('config/course')).filter((course) => [course.teacher_pid, course.assistant_pid].includes(this.$store.state.currentUser.pid));\n        this.courses.forEach((course) => {\n          this._loadCourseStudentsRefs(course);\n        });\n      } catch(error) {\n        console.error(error);\n        this.pageMessage = '获取课程列表失败. ' + error.message;\n      };\n    },\n    async _loadCourseStudentsRefs(course) {\n      try {\n        this.$set(course, 'studentCount', (await callApi('config/reference/student_course', {student_pid: 'all', course_pid: course.pid})).length);\n      } catch(error) {\n        console.error(error);\n        this.$set(course, 'studentCount', '(获取学生人数失败)');\n      };\n    },\n    addButton() {\n      this.modalContent = {\n        teacher_pid: this.$store.state.currentUser.pid,\n        institute_pid: this.$store.state.currentUser.institute_pid,\n        course_targets: [],  // TODO: add this in the UI\n      };\n      this.isModalVisible = true;\n    },\n    editButton(item) {\n      this.modalContent = item;\n      this.isModalVisible = true;\n    },\n    async modalOk() {\n      const isNew = !this.modalContent.pid;\n      // TODO: If we can do it in the backend, remove this.\n      if (isNew) {\n        this.modalContent.course_uid = 'uid-' + (new Date()).getTime();\n      }\n      try {\n        const newPid = await callApi('config/course', this.modalContent, isNew ? 'POST' : 'PUT');\n        if (isNew) {\n          this.modalContent.pid = newPid;\n          this.courses.push(this.modalContent);\n        }\n        this.isModalVisible = false;\n      } catch(error) {\n        console.error(error);\n        this.modalMessage = error.message;\n      };\n    },\n    openStudents(courseId) {\n      this.$router.push(`/_embed/students/${courseId}`);\n    },\n  },\n}\n\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nmain {\n  background: #fff;\n}\n\n.list {\n  padding: 0 1em;\n}\n\n.add-button {\n  width: 100%;\n  border-left: 0;\n  border-right: 0;\n  border-bottom: 0;\n  border-radius: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Courses.vue?vue&type=template&id=405b1c48&scoped=true&lang=pug&\"\nimport script from \"./Courses.vue?vue&type=script&lang=js&\"\nexport * from \"./Courses.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Courses.vue?vue&type=style&index=0&id=405b1c48&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"405b1c48\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[(_vm.pageMessage)?_c('p',[_vm._v(_vm._s(_vm.pageMessage))]):_vm._e(),_c('div',{staticClass:\"course-info\"},[_c('router-link',{attrs:{\"to\":\"/_embed/courses\"}},[_vm._v(\"返回课程列表\")]),_c('h1',[_vm._v(_vm._s(_vm.course.course_name))]),_c('p',[_c('span',{staticClass:\"teacher\"},[_vm._v(\"老师: \"+_vm._s(_vm.getTeacherName(_vm.course.teacher_pid))+\", \")]),_c('span',{staticClass:\"teacher\"},[_vm._v(\"助教: \"+_vm._s(_vm.getTeacherName(_vm.course.assistant_pid))+\", \")]),_c('span',{staticClass:\"more\"},[_vm._v(\"课程信息: \"+_vm._s(_vm.course.course_intro))])]),_c('h2',[_vm._v(\"学生列表\")])],1),_c('ant-list',{staticClass:\"list\",attrs:{\"dataSource\":_vm.currentCourseStudentRefs},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item, index){return _c('ant-list-item',{},[_c('ant-list-item-meta',{attrs:{\"title\":_vm.getStudentName(item.student_pid)}})],1)}}])}),_c('ant-button',{staticClass:\"add-button\",attrs:{\"slot\":\"actions\",\"icon\":\"plus\",\"size\":\"large\"},on:{\"click\":_vm.addButton},slot:\"actions\"},[_vm._v(\"添加\")]),_c('ant-modal',{attrs:{\"title\":\"添加学生\",\"visible\":_vm.isModalVisible,\"okText\":\"确认\",\"cancelText\":\"取消\"},on:{\"ok\":_vm.modalOk,\"cancel\":function($event){_vm.isModalVisible = false}}},[_c('ant-form',{attrs:{\"formLayout\":\"horizontal\"}},[_c('ant-form-item',{attrs:{\"label\":\"学生列表\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-select',{model:{value:(_vm.modalContent.student_pid),callback:function ($$v) {_vm.$set(_vm.modalContent, \"student_pid\", $$v)},expression:\"modalContent.student_pid\"}},[_vm._l((_vm.availableStudents),function(student,_key){return _c('ant-select-option',{key:_key,attrs:{\"value\":student.pid}},[_vm._v(_vm._s(student.student_name))])}),_c('ant-select-option',{attrs:{\"value\":_vm.NEW_STUDENT_VALUE}},[_vm._v(\"[注册新学生]\")])],2)],1),(_vm.modalContent.student_pid === _vm.NEW_STUDENT_VALUE)?[_c('ant-form-item',{attrs:{\"label\":\"姓名\",\"label-col\":{span: 4},\"wrapper-col\":{span: 20}}},[_c('ant-input',{model:{value:(_vm.modalContent.student_name),callback:function ($$v) {_vm.$set(_vm.modalContent, \"student_name\", $$v)},expression:\"modalContent.student_name\"}})],1)]:_vm._e(),_c('p',[_vm._v(_vm._s(_vm.modalMessage))])],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nmain\n  p(v-if=\"pageMessage\") {{pageMessage}}\n  .course-info\n    router-link(to=\"/_embed/courses\") 返回课程列表\n    h1 {{course.course_name}}\n    p\n      span.teacher 老师: {{getTeacherName(course.teacher_pid)}}, \n      span.teacher 助教: {{getTeacherName(course.assistant_pid)}}, \n      span.more 课程信息: {{course.course_intro}}\n    h2 学生列表\n  ant-list.list(:dataSource=\"currentCourseStudentRefs\")\n    ant-list-item(slot=\"renderItem\", slot-scope=\"item, index\")\n      ant-list-item-meta(:title=\"getStudentName(item.student_pid)\")\n  ant-button.add-button(slot=\"actions\", icon=\"plus\", size=\"large\", @click=\"addButton\") 添加\n  ant-modal(title=\"添加学生\", :visible=\"isModalVisible\", @ok=\"modalOk\", @cancel=\"isModalVisible = false\", okText=\"确认\", cancelText=\"取消\")\n    ant-form(formLayout=\"horizontal\")\n      ant-form-item(label=\"学生列表\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\")\n        ant-select(v-model=\"modalContent.student_pid\")\n          ant-select-option(v-for=\"(student, _key) in availableStudents\", :key=\"_key\", :value=\"student.pid\") {{student.student_name}}\n          ant-select-option(:value=\"NEW_STUDENT_VALUE\") [注册新学生]\n      template(v-if=\"modalContent.student_pid === NEW_STUDENT_VALUE\")\n        ant-form-item(label=\"姓名\", :label-col=\"{span: 4}\", :wrapper-col=\"{span: 20}\"): ant-input(v-model=\"modalContent.student_name\")\n      p {{modalMessage}}\n</template>\n\n<script>\nimport {\n  Button as AntButton,\n  List as AntList,\n  Modal as AntModal,\n  Form as AntForm,\n  Input as AntInput,\n  Select as AntSelect,\n} from 'ant-design-vue';\nimport {sha256} from 'js-sha256';\nimport {callApi} from '../api.js';\nimport {teacherMixin, studentMixin} from '../mixins.js';\n\nconst NEW_STUDENT_VALUE = 'CREATE_NEW';\n\nexport default {\n  mixins: [teacherMixin, studentMixin],\n  components: {\n    AntButton,\n    AntModal,\n    AntForm, AntFormItem: AntForm.Item,\n    AntInput,\n    AntSelect, AntSelectOption: AntSelect.Option,\n    AntList, AntListItem: AntList.Item, AntListItemMeta: AntList.Item.Meta,\n  },\n  data() {\n    return {\n      course: {},\n      isModalVisible: false,\n      modalContent: {},\n      modalMessage: '',\n      pageMessage: '',\n      currentCourseStudentRefs: [],\n      NEW_STUDENT_VALUE: NEW_STUDENT_VALUE,\n    };\n  },\n  computed: {\n    availableStudents() {\n      if (!this.studentList) return [];\n      return this.studentList.filter((student) => !this.currentCourseStudentRefs.find((ref) => ref.student_pid === student.pid));\n    },\n  },\n  created() {\n    this._loadCourse();  // For course info\n    this._loadCourseStudentsRefs();  // For student list\n  },\n  methods: {\n    async _loadCourse() {\n      try {\n        this.course = (await callApi('config/course', {pid: this.$route.params.coursePid}))[0];\n      } catch(error) {\n        console.error(error);\n        this.pageMessage = '获取课程信息失败. ' + error.message;\n      };\n    },\n    async _loadCourseStudentsRefs() {\n      try {\n        this.currentCourseStudentRefs = await callApi('config/reference/student_course', {student_pid: 'all', course_pid: this.$route.params.coursePid});\n      } catch(error) {\n        console.error(error);\n        this.pageMessage = '获取学生列表失败. ' + error.message;\n      };\n    },\n    addButton() {\n      this.modalContent = {};\n      this.isModalVisible = true;\n    },\n    async modalOk() {\n      try {\n        if (this.modalContent.student_pid === NEW_STUDENT_VALUE) {\n          const newPid = await callApi('config/student', this.modalContent, 'POST');\n          this.studentList.push((await callApi('config/student', {pid: newPid}))[0]);\n          await this._addStudentCourseRelationship(newPid);\n        } else {\n          await this._addStudentCourseRelationship(this.modalContent.student_pid);\n        }\n      } catch (error) {\n        console.error(error);\n        this.modalMessage = error.message;\n      }\n    },\n    async _addStudentCourseRelationship(studentPid) {\n      try {\n        const payload = {course_pid: this.$route.params.coursePid, student_pid: studentPid};\n        await callApi('config/reference/student_course', payload, 'POST');\n        this.currentCourseStudentRefs.push(payload);\n        this.isModalVisible = false;\n      } catch(error) {\n        console.error(error);\n        this.modalMessage = '添加学生失败. ' + error.message;\n      };\n    },\n  },\n}\n\n</script>\n\n<style lang=\"postcss\" scoped>\n@import '../variables.css';\n\nmain {\n  background: #fff;\n}\n\n.course-info {\n  padding: 1em;\n}\n\n.list {\n  padding: 0 1em;\n}\n\n.add-button {\n  width: 100%;\n  border-left: 0;\n  border-right: 0;\n  border-bottom: 0;\n  border-radius: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Students.vue?vue&type=template&id=b461845e&scoped=true&lang=pug&\"\nimport script from \"./Students.vue?vue&type=script&lang=js&\"\nexport * from \"./Students.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Students.vue?vue&type=style&index=0&id=b461845e&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b461845e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from './store.js'\nimport Cookies from 'js-cookie';\nimport {callApi} from './api.js';\nimport {COOKIE_KEY_NAME} from './store.js';\n\n// pages\nimport Landing from './components/Landing.vue';\nimport Courses from './components/Courses.vue';\nimport Students from './components/Students.vue';\nimport Signin from './components/SignIn.vue';\nimport UploadDemo from './embededViews/UploadDemo.vue';\nimport EmbededCourses from './embededViews/Courses.vue';\nimport EmbededStudents from './embededViews/Students.vue';\n\nVue.use(VueRouter);\n\nconst routeGuard = async (to, _from, next) => {\n  const pid = Cookies.get(COOKIE_KEY_NAME) || (store.state.currentUser || {}).pid;\n  if (pid) {\n    store.commit('setCurrentUser', {user: (await callApi('config/teacher', {pid}))[0]});\n  }\n  switch(to.path.split('/')[1]) {\n    case '':\n      next();\n      break;\n    case 'signin':\n      pid ? router.replace('courses') : next();\n      break;\n    case 'courses':\n    case 'students':\n      pid ? next() : router.replace('signin');\n      break;\n    case '_embed':\n      // Temporarily inject a user into the embed. We don't want user log in from embed page.\n      // TODO(yangguang) remove this once the android connection is finished.\n      const HARD_CODE_TEACHER_UID = '5df9855369c14386d2d42222';  // new-test\n      store.commit('setCurrentUser', {user: (await callApi('config/teacher', {pid: HARD_CODE_TEACHER_UID}))[0]});\n      next();\n      break;\n  }\n};\n\nconst routes = [\n  // Note: `_api` is reserved for the node server, like `/_api/upload`\n  {path: '/', component: Landing, beforeEnter: routeGuard},\n  {path: '/signin', component: Signin, beforeEnter: routeGuard},\n  {path: '/courses', component: Courses, beforeEnter: routeGuard},\n  {path: '/students/:coursePid', component: Students, beforeEnter: routeGuard},\n  {path: '/_embed/courses', component: EmbededCourses, beforeEnter: routeGuard},\n  {path: '/_embed/students/:coursePid', component: EmbededStudents, beforeEnter: routeGuard},\n  {path: '/_embed/upload', component: UploadDemo},\n  {path: '*', redirect: '/'},\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n})\n\nexport default router;\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router.js'\nimport store from './store.js'\nimport 'ant-design-vue/dist/antd.css';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=style&index=0&id=71aa7d72&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=style&index=0&id=71aa7d72&lang=postcss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=style&index=0&id=2ad571b4&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=style&index=0&id=2ad571b4&lang=postcss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/4.c848b14a.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=style&index=0&id=b461845e&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Students.vue?vue&type=style&index=0&id=b461845e&lang=postcss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=style&index=0&id=405b1c48&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=style&index=0&id=405b1c48&lang=postcss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/1.8eee14e7.jpg\";","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=36f8e231&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=36f8e231&lang=postcss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=style&index=0&id=b08d9672&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courses.vue?vue&type=style&index=0&id=b08d9672&lang=postcss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/3.3944809d.jpg\";","module.exports = __webpack_public_path__ + \"img/2.87141047.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadDemo.vue?vue&type=style&index=0&id=a5f4b786&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadDemo.vue?vue&type=style&index=0&id=a5f4b786&lang=postcss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/neural.30d44924.svg\";"],"sourceRoot":""}